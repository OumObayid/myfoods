<div class="body">
  <div class="container">
    <div class="col col-12 d-flex flex-row mt-5">
      <!-- *ngFor="let good of goods; index as i" loop that traverses an array -->
      <div class="col col-9 d-flex flex-column">
        <div class="card">
          <h4 class="card-body">Shopping Cart : ({{ cartCount }})</h4>
        </div>
        <div *ngFor="let elmnt of cart; index as i">
          <!-- code bootstrap of card -->
          <div class="card">
            <div class="card-body">
              <div class="d-flex flex-row justify-content-between">
                <div class="col col-4">
                  <h5 class="card-title text-success">
                    {{ elmnt.name | titlecase }}
                  </h5>
                  <img src="{{ elmnt.photoUrl }}" height="55px" alt="" />
                </div>
                <div class="col col-4 p-0 d-flex flex-column">
                  <button
                    (click)="update(elmnt.id, elmnt.amount)"
                    class="btn w-50 d-flex justify-content-start align-self-start"
                  >
                    <img
                      src="../../../assets/save.png"
                      height="20px"
                      alt=""
                    /><span class="mx-2 deletesave">Save</span>
                  </button>
                  <button
                    (click)="delete(elmnt.id)"
                    class="btn w-50 d-flex justify-content-start align-self-start"
                  >
                    <img
                      src="../../../assets/delete.png"
                      height="20px"
                      alt=""
                    /><span class="mx-2 deletesave">Delete</span>
                  </button>
                </div>
                <div class="col col-4">
                  <div
                    class="d-flex justify-content-between align-items-baseline"
                  >
                    <span>Price: </span>
                    <span class="card-text text-success">
                      {{ elmnt.price | currency }}</span
                    >
                  </div>
                  <div>
                    <div
                      class="d-flex justify-content-between mt-2 align-items-baseline"
                    >
                      <span>Amount: </span
                      ><input
                        dir="rtl"
                        class="amount w-25 border border-white text-success"
                        type="number"
                        placeholder="Amount (Kg)"
                        [(ngModel)]="elmnt.amount"
                      />
                    </div>
                    <div
                      class="d-flex justify-content-between align-items-baseline"
                      *ngIf="elmnt.price && elmnt.amount"
                    >
                      <span>Total: </span>
                      <div class="text-danger">
                        {{ elmnt.price * elmnt.amount | currency }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col col-3">
        <div class="card mx-2">
          <h4 class="card-body">Order Summary</h4>
          <div class="card-body d-flex justify-content-between">
            <div>Subtotal</div>
            <h4>
              {{ total | currency }}
            </h4>
          </div>
          <div class="card-body">
            MyFoods items are eligible for free delivery
            <button class="btn btn-warning w-100 h5" (click)="placeOrder()">
              Order ( US {{ total | currency }} )
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
